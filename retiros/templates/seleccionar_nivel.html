{% extends "base.html" %}

{% block title %} Seleccionar Nivel Educativo {% endblock %}

{% block content %}

<div class="text-center mb-5 mt-2 animate-fade-in">
    <span class="text-uppercase tracking-widest text-danger small fw-bold mb-2 d-block">Gestión Escolar</span>
    <h1 class="fw-bold h3 mb-2 text-dark">Seleccionar Nivel</h1>
    <p class="text-muted small px-4">Elija el nivel educativo para desplegar los grados correspondientes</p>
</div>

<div class="row g-3">
    {% for nivel in niveles %}
    <div class="col-12 animate-item" style="--delay: {{ forloop.counter0 }}">
        <a href="{% url 'lista_grados' nivel.id %}" class="text-decoration-none nivel-wrapper">
            <div class="card nivel-card border-0 p-3 h-100">
                <div class="d-flex align-items-center justify-content-between">
                    
                    <div class="d-flex align-items-center">
                        <div class="icon-box bg-danger bg-opacity-10 rounded-3 d-flex align-items-center justify-content-center me-3" style="width: 52px; height: 52px;">
                            <i class="bi bi-mortarboard text-danger fs-4"></i>
                        </div>
                        
                        <div>
                            <h2 class="h6 fw-bold mb-0 text-dark">{{ nivel.nombre }}</h2>
                            <span class="text-muted small d-block">Gestionar alumnos y retiros</span>
                        </div>
                    </div>

                    <div class="arrow-circle bg-danger bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">
                        <i class="bi bi-chevron-right text-danger small"></i>
                    </div>

                </div>
            </div>
        </a>
    </div>
    {% empty %}
    <div class="col-12 text-center py-5">
        <i class="bi bi-folder-x display-1 text-light"></i>
        <p class="text-muted mt-3">No hay niveles educativos registrados.</p>
    </div>
    {% endfor %}
</div>

<div class="text-center mt-5">
    <a href="{% url 'seleccionar_rol' %}" class="btn-back-minimal">
        <i class="bi bi-chevron-left me-1"></i> Volver a Inicio
    </a>
</div>

<style>
    .tracking-widest { letter-spacing: 0.15em; }

    .nivel-card {
        background: #ffffff;
        border-radius: 20px !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border: 1px solid #f1f5f9 !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.02);
    }

    /* ESTADO AL PASAR EL MOUSE (Hover) */
    .nivel-card:hover {
        transform: translateY(-4px);
        border-color: #ef4444 !important; /* Rojo intenso en borde */
        box-shadow: 0 12px 20px -8px rgba(239, 68, 68, 0.15) !important;
    }

    /* CAMBIO DE COLOR AL HOVER */
    .nivel-card:hover .arrow-circle {
        background-color: #ef4444 !important;
    }
    
    .nivel-card:hover .arrow-circle i {
        color: white !important;
    }

    .nivel-card:hover .icon-box {
        background-color: #ef4444 !important;
    }

    .nivel-card:hover .icon-box i {
        color: white !important;
        transform: rotate(-10deg) scale(1.1);
    }

    /* BOTÓN VOLVER */
    .btn-back-minimal {
        color: #94a3b8;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.9rem;
        transition: color 0.3s;
    }
    .btn-back-minimal:hover { color: #ef4444; }

    /* ANIMACIONES */
    .animate-item {
        opacity: 0;
        animation: fadeInUp 0.6s ease forwards;
        animation-delay: calc(var(--delay) * 0.1s);
    }
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(15px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>

{% endblock %}